{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}

<div class="m-5">
		<form id="add_form" method="post" class="border">
			<p>
				<label for="nom">Nom d'établissement :</label>
				<input id="nom" type="text" name="nom">
			</p>
			<p>
				<label for="description">Description :</label>
				<textarea id="description" name="description" rows="10" cols="50"></textarea>
			</p>
			<p>
				<label for="type">Type de cuisine :</label>
				<select id="type" name="type">
					<option>Traditionnelle</option>
					<option>Asiatique</option>
					<option>Indienne</option>
					<option>Turque</option>
					<option>Marrocaine</option>
					<option>Italienne</option>
					<option>Russe</option>
					<option>Polonaise</option>
					<option>Autre</option>
				</select>
			</p>
			<p>
				<label for="adresse">Adresse :</label>
				<input id="adresse" type="text" name="adresse">
			</p>
			<p class="text-center">
				<input type="submit" name="envoyer" value="Valider">
			</p>
		</form>
</div>


{# TEST AXIOS #}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>

//Call geocode
geocode()

function geocode(){
	var location = 'Impasse du bord du lac 83110 lisle sur tarn' ;
	axios.get('https://maps.googleapis.com/maps/api/geocode/json',{
		params:{
			address: location,
			key: 'AIzaSyAmkMmW6mnFdvnyhblcCnqYBsXvLsuJdyQ'
		}

	})
	.then(function(response){
	console.log(response)

	})
	.catch(function(error){
		console.log(error);
	})
}

</script>




<script src="https://maps.google.com/maps/api/js?key=AIzaSyAmkMmW6mnFdvnyhblcCnqYBsXvLsuJdyQ" type="text/javascript"></script>
<script async type="text/javascript">
	// On initialise la latitude et la longitude de Paris (centre de la carte)
	var lat = 43.859697;
	var lon = 1.814251;
	var map = null;
	// Fonction d'initialisation de la carte
	function initMap() {
		// Créer l'objet "map" et l'insèrer dans l'élément HTML qui a l'ID "map"
		map = new google.maps.Map(document.getElementById("map"), {
			// Nous plaçons le centre de la carte avec les coordonnées ci-dessus
			center: new google.maps.LatLng(lat, lon), 
			// Nous définissons le zoom par défaut
			zoom: 17, 
			// Nous définissons le type de carte (ici carte routière)
			mapTypeId: google.maps.MapTypeId.ROADMAP, 
			// Nous activons les options de contrôle de la carte (plan, satellite...)
			mapTypeControl: false,
			// Nous désactivons la roulette de souris
			scrollwheel: false, 
			mapTypeControlOptions: {
				// Cette option sert à définir comment les options se placent
				style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR 
			},
			// Activation des options de navigation dans la carte (zoom...)
			navigationControl: false, 
			navigationControlOptions: {
				// Comment ces options doivent-elles s'afficher
				style: google.maps.NavigationControlStyle.ZOOM_PAN 
			}
		});
	}
	window.onload = function(){
		// Fonction d'initialisation qui s'exécute lorsque le DOM est chargé
		initMap(); 
	};
</script>
<div id="map" style="height:400px"></div>



{% endblock %}
