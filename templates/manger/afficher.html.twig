{% extends 'base.html.twig' %}

{% block title %}Consulter les restOorants{% endblock %}

	{% block body %}

		<h2 class="text-center">Les meilleurs restOorants</h2> 

		<table>

			<th>Nom</th>   
			<th>Type</th>   
			<th>Photo</th> 
			<th>Description</th>   
			<th>N°</th>
			<th>Nom de rue</th>
			<th>Code postal</th>
			<th>Ville</th>
			<th><a href="{{ path('add_restos')}}">Ajouter</a></th>

			{% for OneResto in resto %}
				<tr> 
					<td>{{ OneResto.getRestoname() }}</td>
					<td>{{ OneResto.getType() }}</td>
					<td>{{ OneResto.getPhoto() }}</td>
					<td>{{ OneResto.getDescription() }}</td>
					<td>{{ OneResto.getStreetnum() }}</td>
					<td>{{ OneResto.getStreetname() }}</td>
					<td>{{ OneResto.getCp() }}</td>
					<td>{{ OneResto.getVille() }}</td>
					<td><script src="https://maps.google.com/maps/api/js?key=AIzaSyAmkMmW6mnFdvnyhblcCnqYBsXvLsuJdyQ" type="text/javascript"></script>
						<script async type="text/javascript">
	// On initialise la latitude et la longitude de Paris (centre de la carte)
	var lat = 43.859697;
	var lon = 1.814251;
	var map = null;
	// Fonction d'initialisation de la carte
	function initMap() {
		// Créer l'objet "map" et l'insèrer dans l'élément HTML qui a l'ID "map"
		map = new google.maps.Map(document.getElementById("map"), {
			// Nous plaçons le centre de la carte avec les coordonnées ci-dessus
			center: new google.maps.LatLng(lat, lon), 
			// Nous définissons le zoom par défaut
			zoom: 17, 
			// Nous définissons le type de carte (ici carte routière)
			mapTypeId: google.maps.MapTypeId.ROADMAP, 
			// Nous activons les options de contrôle de la carte (plan, satellite...)
			mapTypeControl: false,
			// Nous désactivons la roulette de souris
			scrollwheel: false, 
			mapTypeControlOptions: {
				// Cette option sert à définir comment les options se placent
				style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR 
			},
			// Activation des options de navigation dans la carte (zoom...)
			navigationControl: false, 
			navigationControlOptions: {
				// Comment ces options doivent-elles s'afficher
				style: google.maps.NavigationControlStyle.ZOOM_PAN 
			}
		});
	}
	window.onload = function(){
		// Fonction d'initialisation qui s'exécute lorsque le DOM est chargé
		initMap(); 
	};
	</script>
	<div id="map" style="height:400px;border-radius:10px;width:400px"></div></td>
</tr> 





{% endfor %}  

</table>



{# TEST AXIOS #}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>

//Call geocode
geocode()

function geocode(){
	var location = 'Impasse du bord du lac 83110 lisle sur tarn' ;
	axios.get('https://maps.googleapis.com/maps/api/geocode/json',{
		params:{
			address: location,
			key: 'AIzaSyAmkMmW6mnFdvnyhblcCnqYBsXvLsuJdyQ'
		}

	})
	.then(function(response){
		console.log(response)

	})
	.catch(function(error){
		console.log(error);
	})
}

</script>






{% endblock %} 

